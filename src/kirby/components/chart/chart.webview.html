<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Kirby Chart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
  <div id="chart"></div>
  <script src="nativescript-webview-interface.js"></script>
  <script src="highcharts.js"></script>
  <script>
    (function () {
        var oWebViewInterface = window.nsWebViewInterface;

        /**
         * Registers handlers for native events.
         */
        function addNativeMsgListener() {
            oWebViewInterface.on('loadChartData', function (chartData) {
                chartData.options.chart.height = chartData.height - 40;
                var chart = Highcharts.chart('chart', chartData.options);
            });
        }

        function init() {
            addNativeMsgListener();
        }

        init();
    })();
  </script>      
</body>
</html>
